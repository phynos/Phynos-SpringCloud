

server:
  port: 6710

spring:
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true # 是否和服务注册与发现组件结合，设置为 true 后可以直接使用应用名称调用服务
      routes:
        - id: iot
          predicates:
            - Path=/test/**
              Host="**.abc.org"
          uri: http://www.baidu.com
          filters:
            - StripPrefix= 1 #过滤几个前缀/为间隔
            - AddResponseHeader="X-TestHeader",foobar
        - id: api-user
          predicates:
            - Path=/api/user/**
          uri: lb://charger-consumer-user

# 配置集群eureka注册中心
eureka:
  instance:
    hostname: ${spring.cloud.client.ip-address}
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
    prefer-ip-address: true
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
